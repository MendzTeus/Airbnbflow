import{y as D,E as q,V as R,r as f,W as A,j as e,H as h,J as j,K as b,Q as g,U as E,L as l,G as i,M as L}from"./index-CFBfUQr5.js";import{S as M}from"./skeleton-CFnampVp.js";import{C as O}from"./clock-DvPf5xfk.js";import{B as y}from"./building-acADVoMY.js";import{U}from"./users-BU5ZOGGK.js";import{W as N}from"./wrench-D4g40m_u.js";import{C as B}from"./chevron-right-BoYVHMHi.js";import{C as H}from"./clipboard-check-DYPUPOyH.js";import{K}from"./key-CbQEqBkp.js";function J(){const{user:a}=D(),{t:s}=q(),{properties:c,employees:d,maintenanceRequests:m}=R(),[v,p]=f.useState(!0),k=A(),n={properties:Object.keys(c).length,employees:Object.keys(d).length,pendingMaintenanceRequests:Object.values(m).filter(t=>t.status!=="completed").length};f.useEffect(()=>{if([c,d,m].some(x=>Object.keys(x).length>0)){p(!1);return}const r=setTimeout(()=>p(!1),1200);return()=>clearTimeout(r)},[c,d,m]);const o=({title:t,value:r,icon:x,description:u,linkTo:w,color:T="bg-primary/10"})=>e.jsxs(h,{className:"h-full flex flex-col",children:[e.jsxs(j,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(b,{className:"text-sm font-medium",children:t}),e.jsx("div",{className:`${T} p-2 rounded-full`,children:e.jsx(x,{size:18,className:"text-primary"})})]}),e.jsx(g,{className:"flex flex-col justify-between flex-1 pb-0",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r}),u&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u})]})}),e.jsx(E,{children:e.jsx(l,{to:w,className:"w-full",children:e.jsxs(i,{variant:"outline",className:"w-full text-xs justify-between",children:[s("common.viewDetails"),e.jsx(B,{size:16})]})})})]}),C=()=>e.jsxs(h,{className:"h-full flex flex-col",children:[e.jsxs(j,{children:[e.jsx(b,{children:s("dashboard.quickAccess")}),e.jsx(L,{children:s("dashboard.frequentlyUsed")})]}),e.jsx(g,{className:"flex flex-col gap-2 flex-1",children:e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx(l,{to:"/properties/new",children:e.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),s("dashboard.addProperty")]})}),e.jsx(l,{to:"/checklists/new",children:e.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),s("dashboard.createChecklist")]})}),e.jsx(l,{to:"/access-codes",children:e.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),s("dashboard.manageAccessCodes")]})}),e.jsx(l,{to:"/maintenance/new",children:e.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),s("dashboard.reportIssue")]})})]})})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("dashboard.title")}),v?e.jsx("div",{className:"grid gap-4 grid-cols-[repeat(auto-fit,minmax(240px,1fr))]",children:[...Array((a==null?void 0:a.role)==="manager"?5:4)].map((t,r)=>e.jsx(h,{className:"h-[180px] animate-pulse",children:e.jsx(M,{className:"h-full w-full"})},r))}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid gap-4 grid-cols-[repeat(auto-fit,minmax(240px,1fr))]",children:[e.jsx(o,{title:"Time Clock",value:k,icon:O,description:"Horas registradas hoje",linkTo:"/time-clock",color:"bg-sky-100"}),e.jsx(o,{title:s("dashboard.properties"),value:n.properties,icon:y,description:s("dashboard.totalProperties"),linkTo:"/properties"}),e.jsx(o,{title:s("dashboard.employees"),value:n.employees,icon:U,description:s("dashboard.activeEmployees"),linkTo:"/employees"}),e.jsx(o,{title:s("dashboard.maintenanceRequests"),value:n.pendingMaintenanceRequests,icon:N,description:`${n.pendingMaintenanceRequests} ${s("dashboard.pendingRequests")}`,linkTo:"/maintenance",color:"bg-amber-100"}),(a==null?void 0:a.role)==="manager"&&e.jsx(C,{})]})})]})}export{J as default};
