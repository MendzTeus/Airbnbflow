import{y as g,r as a,j as e,N as b,H as v,J as y,K as N,M as w,Q as C,T as o,U as S,G as E}from"./index-CFBfUQr5.js";import{L as m}from"./label-Cdm9zhvV.js";import{A,C as L,a as I}from"./alert-BKCop9Vh.js";function q(){const{isAuthenticated:u,login:x,isLoading:D}=g(),[r,h]=a.useState(""),[t,p]=a.useState(""),[i,n]=a.useState(""),[l,c]=a.useState(!1),j=async s=>{s.preventDefault(),n(""),c(!0);try{await x(r,t)}catch(d){const f=d instanceof Error?d.message:"Invalid email or password";n(f||"Invalid email or password")}finally{c(!1)}};return u?e.jsx(b,{to:"/dashboard"}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-primary",children:"MCRh"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage Your Properties and Cleaners"})]}),e.jsxs(v,{children:[e.jsxs(y,{children:[e.jsx(N,{children:"Login"}),e.jsx(w,{children:"Enter your credentials to access your account"})]}),e.jsxs("form",{onSubmit:j,children:[e.jsxs(C,{className:"space-y-4",children:[i&&e.jsxs(A,{variant:"destructive",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx(I,{children:i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",placeholder:"name@example.com",value:r,onChange:s=>h(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"password",children:"Password"}),e.jsx(o,{id:"password",type:"password",value:t,onChange:s=>p(s.target.value),required:!0})]})]}),e.jsx(S,{className:"flex flex-col space-y-4",children:e.jsx(E,{type:"submit",className:"w-full",disabled:l,children:l?e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"animate-spin mr-2 h-4 w-4 border-2 border-background border-t-transparent rounded-full"}),"Logging in..."]}):"Sign in"})})]})]})]})})}export{q as default};
