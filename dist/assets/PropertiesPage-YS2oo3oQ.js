import{c as y,y as C,X as L,V as k,r as t,j as e,G as a,Y as B,T as P,Z as S,_ as T,$ as h,H as o,Q as z,U as A,L as r,a0 as D}from"./index-CFBfUQr5.js";import{S as H}from"./skeleton-CFnampVp.js";import{P as $}from"./plus-Cvcf7KTe.js";import{B as V}from"./building-acADVoMY.js";import{M as f,B as Z,a as E}from"./map-pin-BsP7L8Kg.js";import{S as u}from"./square-pen-2UOtia5C.js";import{T as j}from"./trash-2-DDAci78G.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function X(){const{hasPermission:c}=C(),g=L(),{properties:i,removeProperty:v}=k(),[w,m]=t.useState(!0),[l,p]=t.useState(""),[b,M]=t.useState("grid");t.useEffect(()=>{if(Object.keys(i).length>0)m(!1);else{const s=setTimeout(()=>{Object.keys(i).length===0&&m(!1)},1500);return()=>clearTimeout(s)}},[i]);const d=Object.values(i).filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.address.toLowerCase().includes(l.toLowerCase())||s.city.toLowerCase().includes(l.toLowerCase())),x=async s=>{try{await v(s)}catch(n){console.error(n)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Properties"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor all your properties"})]}),c("create:property")&&e.jsxs(a,{onClick:()=>g("/properties/new"),children:[e.jsx($,{className:"mr-2 h-4 w-4"})," Add Property"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full sm:w-auto",children:[e.jsx(B,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(P,{placeholder:"Search properties...",className:"pl-8 w-full sm:w-[300px]",value:l,onChange:s=>p(s.target.value)})]}),e.jsx(S,{defaultValue:"grid",className:"w-[200px]",onValueChange:s=>M(s),children:e.jsxs(T,{className:"grid w-full grid-cols-2",children:[e.jsx(h,{value:"grid",children:"Grid"}),e.jsx(h,{value:"list",children:"List"})]})})]}),w?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((s,n)=>e.jsx(o,{className:"overflow-hidden h-[280px]",children:e.jsx(H,{className:"h-full w-full"})},n))}):d.length===0?e.jsxs("div",{className:"text-center py-10",children:[e.jsx(V,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-2 text-lg font-semibold",children:"No properties found"}),e.jsx("p",{className:"text-muted-foreground",children:l?"Try adjusting your search terms":"Add a property to get started"})]}):b==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(s=>e.jsxs(o,{className:"overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"relative h-48 w-full overflow-hidden",children:e.jsx("img",{src:s.imageUrl||"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8aG91c2V8ZW58MHx8MHx8&auto=format&fit=crop&w=800&q=60",alt:s.name,className:"h-full w-full object-cover transition-all hover:scale-105"})}),e.jsx(z,{className:"flex-1 p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsx("h3",{className:"font-semibold text-lg truncate",children:s.name})}),e.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[e.jsx(f,{className:"mr-1 h-3.5 w-3.5"}),e.jsx("span",{className:"truncate",children:s.city})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{className:"mr-1 h-4 w-4"}),e.jsxs("span",{children:[s.bedrooms," Beds"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"mr-1 h-4 w-4"}),e.jsxs("span",{children:[s.bathrooms," Baths"]})]})]})]})}),e.jsxs(A,{className:"p-4 pt-0 flex justify-between",children:[e.jsx(r,{to:`/properties/${s.id}`,children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(N,{className:"mr-2 h-4 w-4"})," Details"]})}),c("edit:property")&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{to:`/properties/${s.id}/edit`,children:e.jsx(a,{variant:"outline",size:"icon",className:"h-8 w-8",children:e.jsx(u,{className:"h-4 w-4"})})}),e.jsx(a,{variant:"outline",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>x(s.id),children:e.jsx(j,{className:"h-4 w-4"})})]})]})]},s.id))}):e.jsx("div",{className:"space-y-4",children:d.map(s=>e.jsx(o,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("div",{className:"relative h-40 sm:h-auto sm:w-48 overflow-hidden",children:e.jsx("img",{src:s.imageUrl||"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8aG91c2V8ZW58MHx8MHx8&auto=format&fit=crop&w=800&q=60",alt:s.name,className:"h-full w-full object-cover"})}),e.jsx("div",{className:"flex flex-1 flex-col p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx(D,{variant:"outline",children:`${s.bedrooms} bed / ${s.bathrooms} bath`})]}),e.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[e.jsx(f,{className:"mr-1 h-3.5 w-3.5"}),e.jsxs("span",{children:[s.address,", ",s.city," ",s.zipCode]})]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description})]})}),e.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 p-4 justify-end items-end",children:[e.jsx(r,{to:`/properties/${s.id}`,children:e.jsxs(a,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(N,{className:"mr-2 h-4 w-4"})," Details"]})}),c("edit:property")&&e.jsxs(e.Fragment,{children:[e.jsx(r,{to:`/properties/${s.id}/edit`,children:e.jsxs(a,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(u,{className:"mr-2 h-4 w-4"})," Edit"]})}),e.jsxs(a,{variant:"outline",size:"sm",className:"w-full text-destructive hover:text-destructive",onClick:()=>x(s.id),children:[e.jsx(j,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})},s.id))})]})}export{X as default};
